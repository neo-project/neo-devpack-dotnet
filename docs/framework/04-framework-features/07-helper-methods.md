# Helper Methods\n\nThe `Neo.SmartContract.Framework` namespace (and the base `SmartContract` class) provides several static helper methods for common tasks like type conversions, assertions, and byte manipulation.\n\n## `Helper` Class (`Neo.SmartContract.Framework.Helper`)\n\nProvides static utility methods:\n\n*   **`Assert(bool condition, string message = null)`**: Throws an exception (terminating execution) if the `condition` is false. Optionally includes a `message` in the exception.\ Crucial for validating inputs and state.\n*   **`ToBigInteger(ByteString value)` / `ToBigInteger(byte[] value)` / `ToBigInteger(string value)` / `ToBigInteger(bool value)`**: Converts various types to `BigInteger`.\n*   **`ToByteArray(string value)` / `ToByteArray(BigInteger value)`**: Converts `string` (UTF8) or `BigInteger` to `byte[]`.\n*   **`ToByteString(string value)` / `ToByteString(BigInteger value)`**: Converts `string` (UTF8) or `BigInteger` to `ByteString`.\n*   **`AsString(byte[] value)` / `AsString(ByteString value)`**: Converts byte array/ByteString (assumed UTF8) to `string`.\n*   **`ToUInt160(ByteString value)` / `ToUInt160(BigInteger value)`**: Converts to `UInt160` (requires correct length/value).\n*   **`Concat(ByteString s1, ByteString s2)` / `Concat(byte[] s1, byte[] s2)`**: Concatenates two byte arrays/ByteStrings.\n*   **`Last(ByteString value, int count)` / `Last(byte[] value, int count)`**: Returns the last `count` bytes.\n*   **`Range(ByteString value, int index, int count)` / `Range(byte[] value, int index, int count)`**: Returns a sub-sequence of bytes.\n*   **`Take(ByteString value, int count)` / `Take(byte[] value, int count)`**: Returns the first `count` bytes.\n*   **`Reverse(byte[] source)`**: Reverses the bytes in an array (useful for endianness changes).\n\n## `SmartContract` Base Class (`Neo.SmartContract.Framework.SmartContract`)\n\nIf your contract inherits from `SmartContract`, you get access to some instance helpers (though most framework features are static). The primary benefit is slightly shorter access to common elements:\n\n*   **`Context` (`StorageContext`)**: Shortcut for `Storage.CurrentContext`.\n*   **`ReadOnlyContext` (`StorageContext`)**: Shortcut for `Storage.CurrentReadOnlyContext`.\n*   **`ExecutingScriptHash` (`UInt160`)**: Shortcut for `Runtime.ExecutingScriptHash`.\n*   **`CallingScriptHash` (`UInt160`)**: Shortcut for `Runtime.CallingScriptHash`.\n*   **`Runtime`**: Direct access to the static `Runtime` class (less common).\n*   **`Storage`**: Direct access to the static `Storage` class (less common).\n\n**Note:** Because contract methods must be `static`, you cannot directly use these instance helpers within them. Their primary use might be within instance helper methods if you were to structure your contract differently (which is uncommon) or if future framework versions utilize them more.\ Most developers rely on the static classes (`Runtime`, `Storage`, `Helper`, native contracts) directly within their static contract methods.\n\n## Example Usage (`Helper`)\n\n```csharp\nusing Neo.SmartContract.Framework;\nusing Neo.SmartContract.Framework.Attributes;\nusing Neo.SmartContract.Framework.Native;\nusing Neo.SmartContract.Framework.Services;\nusing System.Numerics;\n\n[ContractPermission(nameof(StdLib), \"* \")] // For atoi/itoa\npublic class HelperDemo : SmartContract\n{\n    private static readonly StorageMap Balances = new StorageMap(Storage.CurrentContext, \"BAL\");\n\n    public static void UpdateBalance(UInt160 user, BigInteger amount)\n    {\n        // Validate inputs using Assert\n        Helper.Assert(amount > 0, \"Amount must be positive\"); \n        Helper.Assert(user.IsValid && !user.IsZero, \"Invalid user address\");\n\n        if (!Runtime.CheckWitness(user)) \n        { \n            Helper.Assert(false, \"CheckWitness failed\"); // Assert can take custom message\n        }\n\n        // ... Update logic ...\n        BigInteger currentBalance = (BigInteger)Balances.Get(user);\n        Balances.Put(user, currentBalance + amount);\n    }\n\n    // Concatenate strings using byte conversion\n    public static string CombineStrings(string a, string b)\n    {\n        ByteString bytesA = Helper.ToByteString(a);\n        ByteString bytesB = Helper.ToByteString(b);\n        ByteString combinedBytes = Helper.Concat(bytesA, bytesB);\n        return Helper.AsString(combinedBytes);\n    }\n\n    // Convert number to hex string\n    public static string IntToHex(BigInteger value)\n    {\n        return StdLib.Itoa(value, 16); // Itoa is actually in StdLib\n    }\n}\n```\n\nThe `Helper` class, especially `Assert`, is fundamental for writing robust and secure smart contracts by enforcing preconditions and validating state.\n\n[Previous: Attributes](./06-attributes.md) | [Next Section: Compilation](../05-compilation/README.md)